(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Login"],{"013f":function(e,t,a){"use strict";a.r(t);var n=a("7a23"),r=a("9b19"),o=a.n(r),i=function(e){return Object(n["pushScopeId"])("data-v-b45b2d76"),e=e(),Object(n["popScopeId"])(),e},l={class:"login-page"},u={class:"login-container"},c=i((function(){return Object(n["createElementVNode"])("div",{class:"img-container"},[Object(n["createElementVNode"])("img",{class:"login-company-logo",src:o.a,alt:"company-logo"})],-1)})),s={class:"input-container"},d={class:"separator"},f={class:"info"};function v(e,t,a,r,o,i){var v=Object(n["resolveComponent"])("q-input"),p=Object(n["resolveComponent"])("q-icon"),b=Object(n["resolveComponent"])("q-btn");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",l,[Object(n["createElementVNode"])("section",u,[c,Object(n["createElementVNode"])("h1",null,Object(n["toDisplayString"])(e.$t("header")),1),Object(n["createElementVNode"])("form",{class:"form-control",onSubmit:t[6]||(t[6]=Object(n["withModifiers"])((function(){return r.getUser&&r.getUser.apply(r,arguments)}),["prevent"]))},[Object(n["createElementVNode"])("div",s,[Object(n["createVNode"])(v,{id:"username",modelValue:r.username,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.username=e}),outlined:"",label:e.$t("username"),name:"username",type:"text"},null,8,["modelValue","label"]),Object(n["createVNode"])(v,{id:"password",modelValue:r.password,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.password=e}),outlined:"",label:e.$t("password"),name:"password",type:r.isPwd?"password":"text",autocomplete:"on"},{append:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(p,{name:r.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:t[1]||(t[1]=function(e){return r.isPwd=!r.isPwd})},null,8,["name"])]})),_:1},8,["modelValue","label","type"]),Object(n["createElementVNode"])("p",d,Object(n["toDisplayString"])(e.$t("apiKeyOption")),1),Object(n["createElementVNode"])("p",f,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("apiKeyHelp"))+" ",1),Object(n["createElementVNode"])("button",{type:"button",class:"as-link",onClick:t[3]||(t[3]=function(){return r.getAPILink&&r.getAPILink.apply(r,arguments)})},Object(n["toDisplayString"])(e.$t("apiKey")),1)]),Object(n["createVNode"])(v,{id:"api-token",modelValue:r.apiKey,"onUpdate:modelValue":t[5]||(t[5]=function(e){return r.apiKey=e}),outlined:"",label:e.$t("apiKey"),name:"api-token",type:r.isApiKey?"password":"text"},{append:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(p,{name:r.isApiKey?"visibility_off":"visibility",class:"cursor-pointer",onClick:t[4]||(t[4]=function(e){return r.isApiKey=!r.isApiKey})},null,8,["name"])]})),_:1},8,["modelValue","label","type"]),Object(n["createVNode"])(b,{type:"submit",class:"action"},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.$t("login")),1)]})),_:1})])],32),Object(n["createElementVNode"])("div",{id:"errorToast",class:Object(n["normalizeClass"])([{active:r.isActive},"toast"])},Object(n["toDisplayString"])(e.$t("loginFail")),3)])])}var p=a("1da1"),b=(a("96cf"),a("7cc0")),g=a("4360"),m=a("6c02"),h={name:"Login",setup:function(){var e=Object(m["c"])(),t=Object(n["ref"])(""),a=Object(n["ref"])(""),r=Object(n["ref"])(""),o=Object(n["ref"])(""),i=Object(n["ref"])(!1),l=Object(n["ref"])(!0),u=Object(n["ref"])(!0);function c(){i.value=!1}function s(){return d.apply(this,arguments)}function d(){return d=Object(p["a"])(regeneratorRuntime.mark((function n(){var l,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,!a.value||!r.value){n.next=10;break}return n.next=4,b["a"].getUserByPassword({username:a.value,password:r.value});case 4:l=n.sent,o.value=l.data,g["a"].commit({type:"addUser",payload:l.data.user}),e.push("/setup"),n.next=16;break;case 10:return n.next=12,b["a"].getUser(t.value);case 12:u=n.sent,o.value=u.data,g["a"].commit({type:"addUser",payload:u.data.user}),e.push("/setup");case 16:n.next=25;break;case 18:n.prev=18,n.t0=n["catch"](0),i.value=!0,setTimeout(c,2e3),t.value="",a.value="",r.value="";case 25:case"end":return n.stop()}}),n,null,[[0,18]])}))),d.apply(this,arguments)}function f(){return v.apply(this,arguments)}function v(){return v=Object(p["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b["a"].getRedmineUrl();case 2:t=e.sent,a="".concat(t.data,"/my/account"),window.open(a);case 5:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}return{user:o,isActive:i,getUser:s,username:a,password:r,getAPILink:f,apiKey:t,isPwd:l,isApiKey:u}}},O=(a("7a84"),a("6b0d")),j=a.n(O),w=a("27f9"),y=a("0016"),k=a("9c40"),x=a("93dc"),V=a.n(x);const M=j()(h,[["render",v],["__scopeId","data-v-b45b2d76"]]);t["default"]=M;V()(h,"components",{QInput:w["a"],QIcon:y["a"],QBtn:k["a"]})},"03ad":function(e,t,a){},"27f9":function(e,t,a){"use strict";var n=a("2909"),r=a("5530"),o=(a("a9e3"),a("99af"),a("caad"),a("7a23")),i=a("6f12"),l=(a("b64b"),a("d3b7"),a("159b"),a("4d63"),a("c607"),a("ac1f"),a("2c3e"),a("25f0"),a("a15b"),a("fb6a"),a("5319"),a("d81d"),a("1276"),a("00b4"),a("dc8a")),u={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},c={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:function(e){return e.toLocaleUpperCase()}},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:function(e){return e.toLocaleLowerCase()}},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:function(e){return e.toLocaleUpperCase()}},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:function(e){return e.toLocaleLowerCase()}}},s=Object.keys(c);s.forEach((function(e){c[e].regex=new RegExp(c[e].pattern)}));var d=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+s.join("")+"])|(.)","g"),f=/[.*+?^${}()|[\]\\]/g,v=String.fromCharCode(1),p={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean},b=function(e,t,a,r){var i,s,p,b,g=Object(o["ref"])(null),m=Object(o["ref"])(O());function h(){return!0===e.autogrow||["textarea","text","search","url","tel","password"].includes(e.type)}function O(){if(w(),!0===g.value){var t=M(S(e.modelValue));return!1!==e.fillMask?A(t):t}return e.modelValue}function j(e){if(e<i.length)return i.slice(-e);var t="",a=i,n=a.indexOf(v);if(n>-1){for(var r=e-a.length;r>0;r--)t+=v;a=a.slice(0,n)+t+a.slice(n)}return a}function w(){if(g.value=void 0!==e.mask&&e.mask.length>0&&h(),!1===g.value)return b=void 0,i="",void(s="");var t=void 0===u[e.mask]?e.mask:u[e.mask],a="string"===typeof e.fillMask&&e.fillMask.length>0?e.fillMask.slice(0,1):"_",r=a.replace(f,"\\$&"),o=[],l=[],m=[],O=!0===e.reverseFillMask,j="",w="";t.replace(d,(function(e,t,a,n,r){if(void 0!==n){var i=c[n];m.push(i),w=i.negate,!0===O&&(l.push("(?:"+w+"+)?("+i.pattern+"+)?(?:"+w+"+)?("+i.pattern+"+)?"),O=!1),l.push("(?:"+w+"+)?("+i.pattern+")?")}else if(void 0!==a)j="\\"+("\\"===a?"":a),m.push(a),o.push("([^"+j+"]+)?"+j+"?");else{var u=void 0!==t?t:r;j="\\"===u?"\\\\\\\\":u.replace(f,"\\\\$&"),m.push(u),o.push("([^"+j+"]+)?"+j+"?")}}));var y=new RegExp("^"+o.join("")+"("+(""===j?".":"[^"+j+"]")+"+)?$"),k=l.length-1,x=l.map((function(t,a){return 0===a&&!0===e.reverseFillMask?new RegExp("^"+r+"*"+t):a===k?new RegExp("^"+t+"("+(""===w?".":w)+"+)?"+(!0===e.reverseFillMask?"$":r+"*")):new RegExp("^"+t)}));p=m,b=function(e){var t=y.exec(e);null!==t&&(e=t.slice(1).join(""));for(var a=[],r=x.length,o=0,i=e;o<r;o++){var l=x[o].exec(i);if(null===l)break;i=i.slice(l.shift().length),a.push.apply(a,Object(n["a"])(l))}return a.length>0?a.join(""):e},i=m.map((function(e){return"string"===typeof e?e:v})).join(""),s=i.split(v).join(a)}function y(t,n,l){var u=r.value,c=u.selectionEnd,d=u.value.length-c,f=S(t);!0===n&&w();var p=M(f),b=!1!==e.fillMask?A(p):p,g=m.value!==b;u.value!==b&&(u.value=b),!0===g&&(m.value=b),document.activeElement===u&&Object(o["nextTick"])((function(){if(b!==s)if("insertFromPaste"!==l||!0===e.reverseFillMask)if(["deleteContentBackward","deleteContentForward"].indexOf(l)>-1){var t=!0===e.reverseFillMask?0===c?b.length>p.length?1:0:Math.max(0,b.length-(b===s?0:Math.min(p.length,d)+1))+1:c;u.setSelectionRange(t,t,"forward")}else if(!0===e.reverseFillMask)if(!0===g){var a=Math.max(0,b.length-(b===s?0:Math.min(p.length,d+1)));1===a&&1===c?u.setSelectionRange(a,a,"forward"):x.rightReverse(u,a,a)}else{var n=b.length-d;u.setSelectionRange(n,n,"backward")}else if(!0===g){var r=Math.max(0,i.indexOf(v),Math.min(p.length,c)-1);x.right(u,r,r)}else{var o=c-1;x.right(u,o,o)}else{var f=c-1;x.right(u,f,f)}else{var m=!0===e.reverseFillMask?s.length:0;u.setSelectionRange(m,m,"forward")}}));var h=!0===e.unmaskedValue?S(b):b;String(e.modelValue)!==h&&a(h,!0)}function k(e,t,a){var n=M(S(e.value));t=Math.max(0,i.indexOf(v),Math.min(n.length,t)),e.setSelectionRange(t,a,"forward")}Object(o["watch"])((function(){return e.type+e.autogrow}),w),Object(o["watch"])((function(){return e.mask}),(function(a){if(void 0!==a)y(m.value,!0);else{var n=S(m.value);w(),e.modelValue!==n&&t("update:modelValue",n)}})),Object(o["watch"])((function(){return e.fillMask+e.reverseFillMask}),(function(){!0===g.value&&y(m.value,!0)})),Object(o["watch"])((function(){return e.unmaskedValue}),(function(){!0===g.value&&y(m.value)}));var x={left:function(e,t,a,n){for(var r=-1===i.slice(t-1).indexOf(v),o=Math.max(0,t-1);o>=0;o--)if(i[o]===v){t=o,!0===r&&t++;break}if(o<0&&void 0!==i[t]&&i[t]!==v)return x.right(e,0,0);t>=0&&e.setSelectionRange(t,!0===n?a:t,"backward")},right:function(e,t,a,n){for(var r=e.value.length,o=Math.min(r,a+1);o<=r;o++){if(i[o]===v){a=o;break}i[o-1]===v&&(a=o)}if(o>r&&void 0!==i[a-1]&&i[a-1]!==v)return x.left(e,r,r);e.setSelectionRange(n?t:a,a,"forward")},leftReverse:function(e,t,a,n){for(var r=j(e.value.length),o=Math.max(0,t-1);o>=0;o--){if(r[o-1]===v){t=o;break}if(r[o]===v&&(t=o,0===o))break}if(o<0&&void 0!==r[t]&&r[t]!==v)return x.rightReverse(e,0,0);t>=0&&e.setSelectionRange(t,!0===n?a:t,"backward")},rightReverse:function(e,t,a,n){for(var r=e.value.length,o=j(r),i=-1===o.slice(0,a+1).indexOf(v),l=Math.min(r,a+1);l<=r;l++)if(o[l-1]===v){a=l,a>0&&!0===i&&a--;break}if(l>r&&void 0!==o[a-1]&&o[a-1]!==v)return x.leftReverse(e,r,r);e.setSelectionRange(!0===n?t:a,a,"forward")}};function V(t){if(!0!==Object(l["c"])(t)){var a=r.value,n=a.selectionStart,o=a.selectionEnd;if(37===t.keyCode||39===t.keyCode){var i=x[(39===t.keyCode?"right":"left")+(!0===e.reverseFillMask?"Reverse":"")];t.preventDefault(),i(a,n,o,t.shiftKey)}else 8===t.keyCode&&!0!==e.reverseFillMask&&n===o?x.left(a,n,o,!0):46===t.keyCode&&!0===e.reverseFillMask&&n===o&&x.rightReverse(a,n,o,!0)}}function M(t){if(void 0===t||null===t||""===t)return"";if(!0===e.reverseFillMask)return C(t);for(var a=p,n=0,r="",o=0;o<a.length;o++){var i=t[n],l=a[o];if("string"===typeof l)r+=l,i===l&&n++;else{if(void 0===i||!l.regex.test(i))return r;r+=void 0!==l.transform?l.transform(i):i,n++}}return r}function C(e){for(var t=p,a=i.indexOf(v),n=e.length-1,r="",o=t.length-1;o>=0&&n>-1;o--){var l=t[o],u=e[n];if("string"===typeof l)r=l+r,u===l&&n--;else{if(void 0===u||!l.regex.test(u))return r;do{r=(void 0!==l.transform?l.transform(u):u)+r,n--,u=e[n]}while(a===o&&void 0!==u&&l.regex.test(u))}}return r}function S(e){return"string"!==typeof e||void 0===b?"number"===typeof e?b(""+e):e:b(e)}function A(t){return s.length-t.length<=0?t:!0===e.reverseFillMask&&t.length>0?s.slice(0,-t.length)+t:t+s.slice(t.length)}return{innerValue:m,hasMask:g,moveCursorForPaste:k,updateMaskValue:y,onMaskedKeydown:V}},g=a("1d8e"),m=(a("a630"),a("3ca3"),function(e,t){function a(){var t=e.modelValue;try{var a="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(t)===t&&("length"in t?Array.from(t):[t]).forEach((function(e){a.items.add(e)})),{files:a.files}}catch(n){return{files:void 0}}}return!0===t?Object(o["computed"])((function(){if("file"===e.type)return a()})):Object(o["computed"])(a)}),h=a("322d"),O=a("050a"),j=a("d882"),w=a("f6ba");t["a"]=Object(O["a"])({name:"QInput",inheritAttrs:!1,props:Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])({},i["d"]),p),g["b"]),{},{modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]}),emits:[].concat(Object(n["a"])(i["c"]),["paste","change"]),setup:function(e,t){var a,n,l,u,c=t.emit,s=t.attrs,d={},f=NaN,v=Object(o["ref"])(null),p=Object(g["a"])(e),O=b(e,c,_,v),y=O.innerValue,k=O.hasMask,x=O.moveCursorForPaste,V=O.updateMaskValue,M=O.onMaskedKeydown,C=m(e,!0),S=Object(o["computed"])((function(){return Object(i["b"])(y.value)})),A=Object(h["a"])($),E=Object(i["e"])(),R=Object(o["computed"])((function(){return"textarea"===e.type||!0===e.autogrow})),N=Object(o["computed"])((function(){return!0===R.value||["text","search","url","tel","password"].includes(e.type)})),T=Object(o["computed"])((function(){var t=Object(r["a"])(Object(r["a"])({},E.splitAttrs.listeners.value),{},{onInput:$,onPaste:U,onChange:B,onBlur:L,onFocus:j["j"]});return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=A,!0===k.value&&(t.onKeydown=M),!0===e.autogrow&&(t.onAnimationend=z),t})),F=Object(o["computed"])((function(){var t=Object(r["a"])(Object(r["a"])({tabindex:0,"data-autofocus":!0===e.autofocus||void 0,rows:"textarea"===e.type?6:void 0,"aria-label":e.label,name:p.value},E.splitAttrs.attributes.value),{},{id:E.targetUid.value,maxlength:e.maxlength,disabled:!0===e.disable,readonly:!0===e.readonly});return!1===R.value&&(t.type=e.type),!0===e.autogrow&&(t.rows=1),t}));function K(){Object(w["a"])((function(){var e=document.activeElement;null===v.value||v.value===e||null!==e&&e.id===E.targetUid.value||v.value.focus({preventScroll:!0})}))}function P(){null!==v.value&&v.value.select()}function U(t){if(!0===k.value&&!0!==e.reverseFillMask){var a=t.target;x(a,a.selectionStart,a.selectionEnd)}c("paste",t)}function $(t){if(t&&t.target&&!0!==t.target.composing)if("file"!==e.type){var a=t.target.value;if(!0===k.value)V(a,!1,t.inputType);else if(_(a),!0===N.value&&t.target===document.activeElement){var n=t.target,r=n.selectionStart,i=n.selectionEnd;void 0!==r&&void 0!==i&&Object(o["nextTick"])((function(){t.target===document.activeElement&&0===a.indexOf(t.target.value)&&t.target.setSelectionRange(r,i)}))}!0===e.autogrow&&z()}else c("update:modelValue",t.target.files)}function _(t,r){u=function(){"number"!==e.type&&!0===d.hasOwnProperty("value")&&delete d.value,e.modelValue!==t&&f!==t&&(!0===r&&(n=!0),c("update:modelValue",t),Object(o["nextTick"])((function(){f===t&&(f=NaN)}))),u=void 0},"number"===e.type&&(a=!0,d.value=t),void 0!==e.debounce?(clearTimeout(l),d.value=t,l=setTimeout(u,e.debounce)):u()}function z(){var e=v.value;if(null!==e){var t=e.parentNode.style;t.marginBottom=e.scrollHeight-1+"px",e.style.height="1px",e.style.height=e.scrollHeight+"px",t.marginBottom=""}}function B(e){A(e),clearTimeout(l),void 0!==u&&u(),c("change",e.target.value)}function L(t){void 0!==t&&Object(j["j"])(t),clearTimeout(l),void 0!==u&&u(),a=!1,n=!1,delete d.value,"file"!==e.type&&setTimeout((function(){null!==v.value&&(v.value.value=void 0!==y.value?y.value:"")}))}function Z(){return!0===d.hasOwnProperty("value")?d.value:void 0!==y.value?y.value:""}Object(o["watch"])((function(){return e.type}),(function(){v.value&&(v.value.value=e.modelValue)})),Object(o["watch"])((function(){return e.modelValue}),(function(t){if(!0===k.value){if(!0===n)return void(n=!1);V(t)}else y.value!==t&&(y.value=t,"number"===e.type&&!0===d.hasOwnProperty("value")&&(!0===a?a=!1:delete d.value));!0===e.autogrow&&Object(o["nextTick"])(z)})),Object(o["watch"])((function(){return e.autogrow}),(function(e){!0===e?Object(o["nextTick"])(z):null!==v.value&&s.rows>0&&(v.value.style.height="auto")})),Object(o["watch"])((function(){return e.dense}),(function(){!0===e.autogrow&&Object(o["nextTick"])(z)})),Object(o["onBeforeUnmount"])((function(){L()})),Object(o["onMounted"])((function(){!0===e.autogrow&&z()})),Object.assign(E,{innerValue:y,fieldClass:Object(o["computed"])((function(){return"q-".concat(!0===R.value?"textarea":"input")+(!0===e.autogrow?" q-textarea--autogrow":"")})),hasShadow:Object(o["computed"])((function(){return"file"!==e.type&&"string"===typeof e.shadowText&&e.shadowText.length>0})),inputRef:v,emitValue:_,hasValue:S,floatingLabel:Object(o["computed"])((function(){return!0===S.value||Object(i["b"])(e.displayValue)})),getControl:function(){return Object(o["h"])(!0===R.value?"textarea":"input",Object(r["a"])(Object(r["a"])(Object(r["a"])({ref:v,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle},F.value),T.value),"file"!==e.type?{value:Z()}:C.value))},getShadowControl:function(){return Object(o["h"])("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(!0===R.value?"":" text-no-wrap")},[Object(o["h"])("span",{class:"invisible"},Z()),Object(o["h"])("span",e.shadowText)])}});var I=Object(i["a"])(E),q=Object(o["getCurrentInstance"])();return Object.assign(q.proxy,{focus:K,select:P,getNativeElement:function(){return v.value}}),I}})},"7a84":function(e,t,a){"use strict";a("03ad")}}]);
//# sourceMappingURL=Login.e5c4d1c6.js.map